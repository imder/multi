<!doctype html>
<html>
<head>
    <title>Dibujar Plano</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0", />
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css"> <!-- bootstrap -->
	<link rel="stylesheet" href="lib/css/dibujo.css">
	<link rel="stylesheet" href="css/all.css">

	<script src="lib/js/jquery-1.8.2.min.js"></script>
	<script src="lib/js/dibujo.js"></script>

</head>
<body>
<div id="page" class="panel">
	<div class="card-body d-flex justify-content-between align-items-center" id="header">
		<button id="new" class="btn btn-primary">Nuevo</button>
		<div class="title">Dibujar Plano</div>
		<button id="jpeg" class="btn btn-danger"><i class="fas fa-camera"></i> Fotografias</button>		
    </div>
  <div id="content"><p style="text-align:center">Loading Canvas...</p>
    
   
  
  </div>
  <div class="code">
    <p>
      To add Material Floating Buttons to any project just download the files from here below or clone the repo from Github. <br>
    </p>
    <form action="">
      <label for="">Nombre</label>
      <input type="text">
    </form>
     
  </div>
    <div class="footer">
		<div class="palette-case">
			<div class="palette-box">
				<div class="palette white"></div>
			</div>	
			<div class="palette-box">
				<div class="palette red"></div>
			</div>
			<div class="palette-box">
				<div class="palette blue"></div>
			</div>
			<div class="palette-box">
				<div class="palette green"></div>
			</div>
			<div class="palette-box">
				<div class="palette black"></div>
			</div>		
			<div style="clear:both"></div>
		</div>
		<span id="showcode" class="showcode">
          <i class=""></i>
          <i class=""></i>
    </span>
    </div>
</div> 

<script src="js/bootstrap.min.js"></script>
<!-- <script src="https://cdn.rawgit.com/mobomo/sketch.js/master/lib/sketch.min.js" type="text/javascript"></script> -->
<script>
$("#jpeg").bind("click", function () {
            var data = $('#canvas')[0].toDataURL();
          
			$.ajax({ 
      type: "POST", 
      url: 'php/guardar_plano.php',
      dataType: 'text',
      data: {
    base64data : data
      }
  });

		});
		
		var panel = document.getElementById('page'),
        menu = document.getElementById('menu'),
        showcode = document.getElementById('showcode'),
        selectFx = document.getElementById('selections-fx'),
        selectPos = document.getElementById('selections-pos'),
        // demo defaults
        effect = 'mfb-zoomin',
        pos = 'mfb-component--br';

    showcode.addEventListener('click', _toggleCode);
    selectFx.addEventListener('change', switchEffect);
    selectPos.addEventListener('change', switchPos);

    function _toggleCode() {
      panel.classList.toggle('viewCode');
    }

    function switchEffect(e){
      effect = this.options[this.selectedIndex].value;
      renderMenu();
    }

    function switchPos(e){
      pos = this.options[this.selectedIndex].value;
      renderMenu();
    }

    function renderMenu() {
      menu.style.display = 'none';
      // ?:-)
      setTimeout(function() {
        menu.style.display = 'block';
        menu.className = pos + effect;
      },1);
    }		
</script>
</body>
</html>
